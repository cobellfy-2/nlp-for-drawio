<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Prozess-Analyzer</title>
<style>
#loading { display: none; font-weight: bold; }
pre { background: #f4f4f4; padding: 10px; }
</style>
</head>
<body>
<h1>Prozess-Analyzer</h1>
<textarea id="inputText" placeholder="Text hier eingeben..." rows="6" cols="60"></textarea>
<br><br>
<button id="submitBtn">Analysieren</button>
<div id="loading">‚è≥ Verarbeitung...</div>
<pre id="output"></pre>

<script>
const btn = document.getElementById("submitBtn");
btn.addEventListener("click", async () => {
    const text = document.getElementById("inputText").value;
    const loading = document.getElementById("loading");
    const output = document.getElementById("output");

    loading.style.display = "block";
    output.textContent = "";

    try {
        const response = await fetch("/process", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ text })
        });

        const data = await response.json();
        output.textContent = JSON.stringify(data, null, 2);
    } catch (err) {
        output.textContent = "Fehler: " + err;
    } finally {
        loading.style.display = "none";
    }
});
</script>
</body>
</html>
